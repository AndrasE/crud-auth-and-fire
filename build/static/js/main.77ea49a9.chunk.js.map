{"version":3,"sources":["components/Footer.js","firebase.js","context/UserAuthContext.js","components/Header.js","components/Popup.js","components/UpdateArea.jsx","components/Note.jsx","components/CreateArea.jsx","components/Home.js","components/Login.js","components/ProtectedRoute.js","App.js","index.js"],"names":["Footer","year","Date","getFullYear","react_default","a","createElement","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","db","getFirestore","userAuthContext","createContext","USER","name","isGuestUser","UserAuthContextProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","user","setUser","useEffect","unsubscribe","onAuthStateChanged","console","log","Provider","value","logOut","signOut","googleSignIn","googleAuthProvider","GoogleAuthProvider","signInWithPopup","then","result","displayName","split","profilePic","photoURL","localStorage","setItem","useUserAuth","useContext","Header","_useUserAuth","navigate","useNavigate","handleLogout","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","t0","message","stop","apply","this","arguments","src","getItem","alt","onClick","Popup","props","trigger","className","UpdateArea","title","content","note","setNote","handleChange","event","_event$target","target","prevNote","objectSpread","defineProperty","onChange","placeholder","rows","onUpdate","preventDefault","Note","buttonPopup","setButtonPopup","added","onDelete","id","components_Popup","setTrigger","components_UpdateArea","CreateArea","onAdd","Home","MyDateString","notes","setNotes","usersCollectionRef","collection","q","query","orderBy","MyDate","setDate","getDate","getHours","getMinutes","slice","getMonth","onSnapshot","snapshot","docs","map","doc","data","createNote","addDoc","timestamp","serverTimestamp","_x","updateNote","_ref2","_callee2","_context2","updateDoc","_x2","_x3","deleteNote","_ref3","_callee3","_context3","deleteDoc","_x4","components_Header","components_CreateArea","noteItem","components_Note","key","components_Footer","Login","handleGoogleSignIn","e","ProtectedRoute","react_router","to","App","path","element","components_ProtectedRoute","components_Home","components_Login","ReactDOM","render","StrictMode","react_router_dom","src_App","document","getElementById"],"mappings":"8MAWeA,MATf,WACE,IAAMC,GAAO,IAAIC,MAAOC,cACxB,OACEC,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,0BAAaL,oECUbM,EAAMC,YAZW,CACrBC,OAAQ,0CACRC,WAAY,qCACZC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAMJC,EAAOC,YAAQV,GACfW,EAAKC,YAAaZ,GCRzBa,EAAkBC,0BAElBC,EAAO,CAAEC,KAAM,QAASC,aAAa,GAEpC,SAASC,EAATC,GAA+C,IAAZC,EAAYD,EAAZC,SAAYC,EAC5BC,mBAASP,GADmBQ,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC7CK,EAD6CH,EAAA,GACvCI,EADuCJ,EAAA,GAkCpD,OAVAK,oBAAU,WACR,IAAMC,EAAcC,YAAmBrB,EAAM,WAC3CsB,QAAQC,IAAI,mBAAoBN,EAAKV,KAAMU,KAG7C,OAAO,WACLG,MAED,IAGDhC,EAAAC,EAAAC,cAACc,EAAgBoB,SAAjB,CACEC,MAAO,CAAER,OAAMS,OAhCnB,WAGE,OAFAJ,QAAQC,IAAI,mBAAoBN,EAAKV,MACrCW,EAAQZ,GACDqB,YAAQ3B,IA6BU4B,aA1B3B,WACEN,QAAQC,IAAI,oBACZ,IAAMM,EAAqB,IAAIC,IAC/B,OAAOC,YAAgB/B,EAAM6B,GAC5BG,KAAK,SAACC,GACLf,EAAQ,CAACX,KAAM0B,EAAOhB,KAAKiB,YAAYC,MAAM,KAAK,GAC1C3B,aAAa,IACb,IAAM4B,EAAaH,EAAOhB,KAAKoB,SAC/BC,aAAaC,QAAQ,aAAcH,GAE3Cd,QAAQC,IAAI,gBAAiBU,EAAOhB,KAAKiB,YAAYC,MAAM,KAAK,SAkB/DxB,GAKA,SAAS6B,IACd,OAAOC,qBAAWrC,GCrDpB,IAqCesC,EArCA,WAAM,IAAAC,EAGMH,IAAjBvB,EAHW0B,EAGX1B,KAAMS,EAHKiB,EAGLjB,OACRkB,EAAWC,cAEXC,EAAY,eAAApC,EAAAK,OAAAgC,EAAA,EAAAhC,CAAAiC,EAAA3D,EAAA4D,KAAG,SAAAC,IAAA,OAAAF,EAAA3D,EAAA8D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEX5B,IAFW,OAGjBkB,EAAS,KAHQQ,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAG,GAAAH,EAAA,SAKjB9B,QAAQC,IAAI6B,EAAAG,GAAMC,SALD,wBAAAJ,EAAAK,SAAAP,EAAA,iBAAH,yBAAAxC,EAAAgD,MAAAC,KAAAC,YAAA,GASlB,OACExE,EAAAC,EAAAC,cAAA,cAEEF,EAAAC,EAAAC,cAAA,mBAEoB,IAAnB2B,EAAKT,aACJpB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAK2B,EAAKV,MACVnB,EAAAC,EAAAC,cAAA,OAAKuE,IAAKvB,aAAawB,QAAQ,cAAeC,IAAI,gBAClD3E,EAAAC,EAAAC,cAAA,UAAQ0E,QAASlB,GAAjB,oBClBOmB,MARf,SAAeC,GACX,OAAQA,EAAMC,QACV/E,EAAAC,EAAAC,cAAA,OAAK8E,UAAU,SACVF,EAAMvD,UAEX,WC0CO0D,MAhDf,SAAoBH,GAAO,IAAAtD,EACDC,mBAAS,CAC/ByD,MAAO,GACPC,QAAS,KAHczD,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAClB4D,EADkB1D,EAAA,GACZ2D,EADY3D,EAAA,GAMzB,SAAS4D,EAAaC,GAAO,IAAAC,EACHD,EAAME,OAAtBtE,EADmBqE,EACnBrE,KAAMkB,EADamD,EACbnD,MAEdgD,EAAQ,SAAAK,GACN,OAAO/D,OAAAgE,EAAA,EAAAhE,CAAA,GACF+D,EADL/D,OAAAiE,EAAA,EAAAjE,CAAA,GAEGR,EAAOkB,MAcd,OACErC,EAAAC,EAAAC,cAAA,OAAK8E,UAAU,eACbhF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,SACEiB,KAAK,QACL0E,SAAUP,EACVjD,MAAO+C,EAAKF,MACZY,YAAY,iBAEd9F,EAAAC,EAAAC,cAAA,YACEiB,KAAK,UACL0E,SAAUP,EACVjD,MAAO+C,EAAKD,QACZW,YAAY,iBACZC,KAAK,MAEP/F,EAAAC,EAAAC,cAAA,UAAQ0E,QAzBd,SAAoBW,GAClBT,EAAMkB,SAASZ,GACfC,EAAQ,CACNH,MAAO,GACPC,QAAS,KAEXI,EAAMU,mBAmBF,UCAOC,MAvCf,SAAcpB,GAAO,IAAAtD,EAEmBC,oBAAS,GAF5BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEZ2E,EAFYzE,EAAA,GAEC0E,EAFD1E,EAAA,GAoBnB,OAEE1B,EAAAC,EAAAC,cAAA,OAAK8E,UAAU,QACbhF,EAAAC,EAAAC,cAAA,UAAK4E,EAAMI,OACXlF,EAAAC,EAAAC,cAAA,SAAI4E,EAAMK,SACVnF,EAAAC,EAAAC,cAAA,UAAK4E,EAAMuB,OAEXrG,EAAAC,EAAAC,cAAA,UAAQ0E,QAvBZ,WACEE,EAAMwB,SAASxB,EAAMyB,MAsBnB,UACAvG,EAAAC,EAAAC,cAAA,UAAQ0E,QApBZ,WACE1C,QAAQC,IAAI,4BAA6B2C,EAAMyB,IAC/CH,GAAe,KAkBb,UAEApG,EAAAC,EAAAC,cAACsG,EAAD,CAAOzB,QAASoB,EAAaM,WAAYL,GACvCpG,EAAAC,EAAAC,cAACwG,EAAD,CAAYV,SAlBlB,SAAoBZ,GAClBgB,GAAe,GAEftB,EAAMkB,SAASZ,EAAMN,EAAMyB,UC6BhBI,MAhDf,SAAoB7B,GAAO,IAAAtD,EACDC,mBAAS,CAC/ByD,MAAO,GACPC,QAAS,KAHczD,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAClB4D,EADkB1D,EAAA,GACZ2D,EADY3D,EAAA,GAMzB,SAAS4D,EAAaC,GAAO,IAAAC,EACHD,EAAME,OAAtBtE,EADmBqE,EACnBrE,KAAMkB,EADamD,EACbnD,MAEdgD,EAAQ,SAAAK,GACN,OAAO/D,OAAAgE,EAAA,EAAAhE,CAAA,GACF+D,EADL/D,OAAAiE,EAAA,EAAAjE,CAAA,GAEGR,EAAOkB,MAcd,OACErC,EAAAC,EAAAC,cAAA,OAAK8E,UAAU,eACbhF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,SACEiB,KAAK,QACL0E,SAAUP,EACVjD,MAAO+C,EAAKF,MACZY,YAAY,UAEd9F,EAAAC,EAAAC,cAAA,YACEiB,KAAK,UACL0E,SAAUP,EACVjD,MAAO+C,EAAKD,QACZW,YAAY,UACZC,KAAK,MAEP/F,EAAAC,EAAAC,cAAA,UAAQ0E,QAzBd,SAAoBW,GAClBT,EAAM8B,MAAMxB,GACZC,EAAQ,CACNH,MAAO,GACPC,QAAS,KAEXI,EAAMU,mBAmBF,UCmCOY,EArEF,WAAM,IAabC,EAbatF,EAGSC,mBAAS,IAHlBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAGVuF,EAHUrF,EAAA,GAGHsF,EAHGtF,EAAA,GAMXuF,EAAqBC,YAAWpG,EAAI,SAEpCqG,EAAIC,YAAMH,EAAoBI,YAAQ,YAAa,SAIrDC,EAAS,IAAIxH,KAGjBwH,EAAOC,QAAQD,EAAOE,UAAY,IAClCV,EAAeQ,EAAOG,WAAa,IAAKH,EAAOI,aAAc,KAAO,IAAMJ,EAAOE,WAAWG,OAAO,GAAK,KAAO,KAAOL,EAAOM,WAAW,IAAID,OAAO,GAAK,KAAOL,EAAOvH,cAAc,KAIpLgC,oBACE,kBACE8F,YAAWV,EAAG,SAACW,GAAD,OACZd,EAASc,EAASC,KAAKC,IAAI,SAACC,GAAD,OAAAtG,OAAAgE,EAAA,EAAAhE,CAAA,GAAesG,EAAIC,OAAnB,CAA2B3B,GAAI0B,EAAI1B,WAElE,IAIF,IAAM4B,EAAU,eAAA7G,EAAAK,OAAAgC,EAAA,EAAAhC,CAAAiC,EAAA3D,EAAA4D,KAAG,SAAAC,EAAOsB,GAAP,OAAAxB,EAAA3D,EAAA8D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACjBhC,QAAQC,IAAI,8BAA+BiD,GAD1BpB,EAAAE,KAAA,EAEXkE,YAAOnB,EAAoB,CAAE/B,MAAOE,EAAKF,MAAOC,QAASC,EAAKD,QAASkB,MAAOS,EAAcuB,UAAWC,gBAF5F,wBAAAtE,EAAAK,SAAAP,MAAH,gBAAAyE,GAAA,OAAAjH,EAAAgD,MAAAC,KAAAC,YAAA,GAMVgE,EAAU,eAAAC,EAAA9G,OAAAgC,EAAA,EAAAhC,CAAAiC,EAAA3D,EAAA4D,KAAG,SAAA6E,EAAOtD,EAAMmB,GAAb,OAAA3C,EAAA3D,EAAA8D,KAAA,SAAA4E,GAAA,cAAAA,EAAA1E,KAAA0E,EAAAzE,MAAA,cAChBhC,QAAQC,IAAI,WAAYoE,EAAI,MAAOnB,GADnBuD,EAAAzE,KAAA,EAEV0E,YAAU3B,EAAoB,CAAE/B,MAAOE,EAAKF,MAAOC,QAASC,EAAKD,QAASkB,MAAOS,EAAcuB,UAAWC,gBAFhG,wBAAAK,EAAAtE,SAAAqE,MAAH,gBAAAG,EAAAC,GAAA,OAAAL,EAAAnE,MAAAC,KAAAC,YAAA,GAMVuE,EAAU,eAAAC,EAAArH,OAAAgC,EAAA,EAAAhC,CAAAiC,EAAA3D,EAAA4D,KAAG,SAAAoF,EAAO1C,GAAP,OAAA3C,EAAA3D,EAAA8D,KAAA,SAAAmF,GAAA,cAAAA,EAAAjF,KAAAiF,EAAAhF,MAAA,cACjBhC,QAAQC,IAAI,yBAA0BoE,GADrB2C,EAAAhF,KAAA,EAEXiF,YAAUlB,YAAIhB,EAAoBV,IAFvB,wBAAA2C,EAAA7E,SAAA4E,MAAH,gBAAAG,GAAA,OAAAJ,EAAA1E,MAAAC,KAAAC,YAAA,GAKhB,OACExE,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACmJ,EAAD,MACErJ,EAAAC,EAAAC,cAACoJ,EAAD,CAAY1C,MAAOuB,IAClBpB,EAAMiB,IAAI,SAACuB,GACV,OACEvJ,EAAAC,EAAAC,cAACsJ,EAAD,CACEC,IAAKF,EAAShD,GACdA,GAAIgD,EAAShD,GACbrB,MAAOqE,EAASrE,MAChBC,QAASoE,EAASpE,QAClBkB,MAAOkD,EAASlD,MAChBC,SAAUyC,EACV/C,SAAUwC,MAIhBxI,EAAAC,EAAAC,cAACwJ,EAAD,QCrCSC,EA/BD,WAAM,IAEVnH,EAAiBY,IAAjBZ,aACFgB,EAAWC,cAEXmG,EAAkB,eAAAtI,EAAAK,OAAAgC,EAAA,EAAAhC,CAAAiC,EAAA3D,EAAA4D,KAAG,SAAAC,EAAO+F,GAAP,OAAAjG,EAAA3D,EAAA8D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACzB2F,EAAE5D,iBADuBjC,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGjB1B,IAHiB,OAIvBgB,EAAS,SAJcQ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAG,GAAAH,EAAA,SAMvB9B,QAAQC,IAAI6B,EAAAG,GAAMC,SANK,yBAAAJ,EAAAK,SAAAP,EAAA,iBAAH,gBAAAyE,GAAA,OAAAjH,EAAAgD,MAAAC,KAAAC,YAAA,GAUxB,OACIxE,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACmJ,EAAD,MACArJ,EAAAC,EAAAC,cAAA,OAAK8E,UAAU,QACbhF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQ0E,QAASgF,GAAjB,eCfKE,EAVQ,SAAAxI,GAAkB,IAAfC,EAAeD,EAAfC,SAChBM,EAASuB,IAATvB,KAGR,OADAK,QAAQC,IAAI,gDAAiDN,IACpC,IAArBA,EAAKT,YACApB,EAAAC,EAAAC,cAAC6J,EAAA,EAAD,CAAUC,GAAG,MAEfzI,GCuBM0I,MAxBf,WACE,OACEjK,EAAAC,EAAAC,cAAA,WAGMF,EAAAC,EAAAC,cAACmB,EAAD,KACErB,EAAAC,EAAAC,cAAC6J,EAAA,EAAD,KACE/J,EAAAC,EAAAC,cAAC6J,EAAA,EAAD,CACEG,KAAK,QACLC,QACEnK,EAAAC,EAAAC,cAACkK,EAAD,KACEpK,EAAAC,EAAAC,cAACmK,EAAD,SAINrK,EAAAC,EAAAC,cAAC6J,EAAA,EAAD,CAAOG,KAAK,IAAIC,QAASnK,EAAAC,EAAAC,cAACoK,EAAD,UAIjCtK,EAAAC,EAAAC,cAACwJ,EAAD,QCvBNa,IAASC,OACPxK,EAAAC,EAAAC,cAACF,EAAAC,EAAMwK,WAAP,KACEzK,EAAAC,EAAAC,cAACwK,EAAA,EAAD,KACE1K,EAAAC,EAAAC,cAACyK,EAAD,QAGJC,SAASC,eAAe","file":"static/js/main.77ea49a9.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Footer() {\r\n  const year = new Date().getFullYear();\r\n  return (\r\n    <footer>\r\n      <p>Andras â“’ {year}</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\"\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDakBuesprwJu4AguOOXCjZ4TJoFHQ268A\",\r\n  authDomain: \"crud-auth-and-fire.firebaseapp.com\",\r\n  projectId: \"crud-auth-and-fire\",\r\n  storageBucket: \"crud-auth-and-fire.appspot.com\",\r\n  messagingSenderId: \"979843203476\",\r\n  appId: \"1:979843203476:web:137eee01897e61bfab4f81\",\r\n  measurementId: \"G-PC5DQZL55T\"\r\n};\r\n  \r\n\r\n // initialize firebase // auth // firestore db//\r\nconst app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport default app;\r\n\r\n// const firebaseConfig = {\r\n//   apiKey: \"REACT_APP_API_KEY\",\r\n//   authDomain: \"REACT_APP_AUTH_DOMAIN\",\r\n//   projectId: \"project-mygag\",\r\n//   storageBucket: \"REACT_APP_STORAGE_BUCKET\",\r\n//   messagingSenderId: \"REACT_APP_MESSAGING_SENDER_ID\",\r\n//   appId: \"REACT_APP_APP_ID\",\r\n//   measurementId: \"REACT_APP_MEASUREMENTID_ID\"\r\n// };","import { createContext, useContext, useEffect, useState } from \"react\";\nimport {\n  onAuthStateChanged,\n  signOut,\n  GoogleAuthProvider,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport React from 'react';\n\nconst userAuthContext = createContext();\n\nconst USER = { name: \"Guest\", isGuestUser: true }\n\nexport function UserAuthContextProvider({ children }) {\n  const [user, setUser] = useState(USER);\n  \n\n  function logOut() {\n    console.log(\"User logged out:\", user.name)\n    setUser(USER);\n    return signOut(auth);\n  }\n  \n  function googleSignIn() {\n    console.log(\"Login initalized\");\n    const googleAuthProvider = new GoogleAuthProvider();\n    return signInWithPopup(auth, googleAuthProvider)\n    .then((result) => {\n      setUser({name: result.user.displayName.split(\" \")[0],\n              isGuestUser: false});\n              const profilePic = result.user.photoURL;\n              localStorage.setItem(\"profilePic\", profilePic);\n\n      console.log(\"Loggining as:\", result.user.displayName.split(\" \")[0]);\n    })\n  }\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, () => {\n      console.log(\"Viewing page as:\", user.name, user);\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return (\n    <userAuthContext.Provider\n      value={{ user, logOut, googleSignIn }}\n    >\n      {children}\n    </userAuthContext.Provider>\n  );\n}\n\nexport function useUserAuth() {\n  return useContext(userAuthContext);\n}\n\n","import React from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { useUserAuth } from \"../context/UserAuthContext\";\r\n\r\n\r\nconst Header = () => {\r\n\r\n\r\n  const { user, logOut } = useUserAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logOut();\r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header >\r\n\r\n      <h1>CRUD</h1>\r\n      \r\n      {user.isGuestUser===false && (\r\n        <div>\r\n        <h2>{user.name}</h2>\r\n        <img src={localStorage.getItem(\"profilePic\")} alt=\"profile-pic\"/>\r\n        <button onClick={handleLogout}>\r\n         Log out\r\n      </button> \r\n      </div>\r\n      )}\r\n     \r\n\r\n    </header>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\nimport \"./Popup.css\"\n\nfunction Popup(props) {\n    return (props.trigger) ? (\n        <div className=\"popup\">\n            {props.children}\n        </div>\n    ) : \"\";\n}\n\nexport default Popup;","import React, { useState } from \"react\";\n\nfunction UpdateArea(props) {\n  const [note, setNote] = useState({\n    title: \"\",\n    content: \"\"\n  });\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setNote(prevNote => {\n      return {\n        ...prevNote,\n        [name]: value\n      };\n    });\n  }\n\n  function updateNote(event) {\n    props.onUpdate(note);\n    setNote({\n      title: \"\",\n      content: \"\"\n    });\n    event.preventDefault();\n   }\n\n  return (\n    <div className=\"create-area\">\n      <form>\n        <input\n          name=\"title\"\n          onChange={handleChange}\n          value={note.title}\n          placeholder=\"Update title\"\n        />\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          value={note.content}\n          placeholder=\"Update content\"\n          rows=\"5\"\n        />\n        <button onClick={updateNote}>Add</button>\n      </form>\n    </div>\n  );\n}\n\nexport default UpdateArea;\n","import React, { useState } from \"react\";\nimport Popup from \"./Popup\";\nimport UpdateArea from \"./UpdateArea\";\n\n\nfunction Note(props) {\n\n  const [buttonPopup, setButtonPopup] = useState(false);\n  \n  function handleDeleteClick() {\n    props.onDelete(props.id);\n  }\n\n  function handleUpdateClick() {\n    console.log(\"about to update document:\", props.id );\n    setButtonPopup(true)\n  }\n\n  function updateNote(note) {\n    setButtonPopup(false)\n    \n    props.onUpdate(note, props.id)\n  }\n\n\n  return (\n\n    <div className=\"note\">\n      <h1>{props.title}</h1>\n      <p>{props.content}</p>\n      <h6>{props.added}</h6>\n\n      <button onClick={handleDeleteClick}>DELETE</button>\n      <button onClick={handleUpdateClick}>UPDATE</button>\n\n      <Popup trigger={buttonPopup} setTrigger={setButtonPopup} >\n        <UpdateArea onUpdate={updateNote} />\n      </Popup>\n\n    </div>\n\n  );\n}\n\nexport default Note;\n","import React, { useState } from \"react\";\n\nfunction CreateArea(props) {\n  const [note, setNote] = useState({\n    title: \"\",\n    content: \"\"\n  });\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setNote(prevNote => {\n      return {\n        ...prevNote,\n        [name]: value\n      };\n    });\n  }\n\n  function submitNote(event) {\n    props.onAdd(note);\n    setNote({\n      title: \"\",\n      content: \"\"\n    });\n    event.preventDefault();\n  }\n\n  return (\n    <div className=\"create-area\">\n      <form>\n        <input\n          name=\"title\"\n          onChange={handleChange}\n          value={note.title}\n          placeholder=\"Title\"\n        />\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          value={note.content}\n          placeholder=\"Content\"\n          rows=\"3\"\n        />\n        <button onClick={submitNote}>Add</button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateArea;\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Note from \"./Note\";\r\nimport CreateArea from \"./CreateArea\";\r\nimport { db } from \"./../firebase\";\r\nimport { collection, addDoc, updateDoc, deleteDoc, doc, onSnapshot, orderBy, serverTimestamp, query } from \"firebase/firestore\";\r\n\r\n\r\n\r\nconst Home = () => {\r\n\r\n  //hook\r\n  const [notes, setNotes] = useState([]);\r\n\r\n  //less typing later, creating ref to firebase collection\r\n  const usersCollectionRef = collection(db, \"notes\")\r\n\r\n  const q = query(usersCollectionRef, orderBy(\"timestamp\", \"desc\"))\r\n\r\n  // date/time\r\n\r\n  var MyDate = new Date();\r\n  var MyDateString;\r\n\r\n  MyDate.setDate(MyDate.getDate() + 20);\r\n  MyDateString = MyDate.getHours() + \":\"+ MyDate.getMinutes() +\" \" + ('0' + MyDate.getDate()).slice(-2) + '/' + ('0' + (MyDate.getMonth()+1)).slice(-2) + '/' + (MyDate.getFullYear()-2000);\r\n\r\n\r\n  //get notes from firebase-db on load and/or change in collection\r\n  useEffect(\r\n    () =>\r\n      onSnapshot(q, (snapshot) =>\r\n        setNotes(snapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id })))\r\n      ),\r\n    []\r\n  );\r\n\r\n  // new note\r\n  const createNote = async (note) => {\r\n    console.log(\"following notes been added:\", note);\r\n    await addDoc(usersCollectionRef, { title: note.title, content: note.content, added: MyDateString, timestamp: serverTimestamp() })\r\n  }\r\n\r\n  // update note\r\n  const updateNote = async (note, id) => {\r\n     console.log(\"updating\", id, \"to:\", note);\r\n     await updateDoc(usersCollectionRef, { title: note.title, content: note.content, added: MyDateString, timestamp: serverTimestamp()})\r\n  }\r\n  \r\n  //delete note\r\n  const deleteNote = async (id) => {\r\n    console.log(\"deleted document`s id:\", id);\r\n    await deleteDoc(doc(usersCollectionRef, id));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    <Header/>\r\n      <CreateArea onAdd={createNote} />\r\n      {notes.map((noteItem) => {\r\n        return (\r\n          <Note\r\n            key={noteItem.id}\r\n            id={noteItem.id}\r\n            title={noteItem.title}\r\n            content={noteItem.content}\r\n            added={noteItem.added}\r\n            onDelete={deleteNote}\r\n            onUpdate={updateNote}\r\n          />\r\n        );\r\n      })}\r\n      <Footer/>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Home;\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useUserAuth } from \"../context/UserAuthContext\";\n\nconst Login = () => {\n \n  const { googleSignIn } = useUserAuth();\n  const navigate = useNavigate();\n\n  const handleGoogleSignIn = async (e) => {\n    e.preventDefault();\n    try {\n      await googleSignIn();\n      navigate(\"/home\");\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return (\n      <div>\n      <Header />\n      <div className=\"note\">\n        <h2>Please Login:</h2>\n        <hr />\n        <br/>\n        <div>\n          <button onClick={handleGoogleSignIn}>\n            Google </button>\n        </div>\n        </div>\n      </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useUserAuth } from \"../context/UserAuthContext\";\nconst ProtectedRoute = ({ children }) => {\n  const { user } = useUserAuth();\n\n  console.log(\"Checking user to redirect protected content..\", user);\n  if (user.isGuestUser === true) {\n    return <Navigate to=\"/\" />;\n  }\n  return children;\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport Footer from \"./components/Footer\";\r\nimport Home from \"./components/Home\";\r\nimport Login from \"./components/Login\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\nimport { UserAuthContextProvider } from \"./context/UserAuthContext\";\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n   \r\n    \r\n          <UserAuthContextProvider>\r\n            <Routes>\r\n              <Route\r\n                path=\"/home\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <Home />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route path=\"/\" element={<Login />} />\r\n            </Routes>\r\n          </UserAuthContextProvider>\r\n\r\n      <Footer />\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}
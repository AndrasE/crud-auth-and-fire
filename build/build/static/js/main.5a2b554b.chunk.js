(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{75:function(e,t,a){e.exports=a(89)},89:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(37),c=a.n(r),o=a(54),i=a(16),u=a(0),s=a.n(u),m=a(3),d=a(9),p=a(10),E=a(5),g=a(99),f=a(95),v=a(68),b=a(69);var h=function(e){var t=Object(n.useState)({title:"",content:""}),a=Object(p.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(p.a)(o,2),u=i[0],s=i[1];function m(e){var t=e.target,a=t.name,n=t.value;c(function(e){return Object(d.a)({},e,Object(E.a)({},a,n))})}return l.a.createElement("div",null,l.a.createElement(g.a,{noValidate:!0,validated:u,onSubmit:function(t){!1===t.currentTarget.checkValidity()?(t.preventDefault(),t.stopPropagation(),s(!0)):(e.onUpdate(r,e.id),c({title:"",content:""}),s(!1),t.preventDefault())}},l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("h3",null,"Update note!"),l.a.createElement(g.a.Group,null,l.a.createElement(g.a.Label,{hidden:!0},"Title"),l.a.createElement(g.a.Control,{required:!0,type:"text",id:"inlineFormInputName",placeholder:e.oldTitle,name:"title",value:r.title,onChange:m,maxLength:"15"}),l.a.createElement(g.a.Control.Feedback,{type:"invalid"},"Please add a title!")))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(g.a.Group,null,l.a.createElement(g.a.Label,{hidden:!0},"Content"),l.a.createElement(g.a.Control,{required:!0,as:"textarea",id:"inlineFormInputName",placeholder:e.oldContent,name:"content",value:r.content,onChange:m,rows:"3",maxLength:"50"}),l.a.createElement(g.a.Control.Feedback,{type:"invalid"},"Please add content!")))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,{variant:"outline-secondary",type:"submit"},"CANCEL")," ",l.a.createElement(b.a,{variant:"outline-secondary",type:"submit"},"UPDATE")," ")),l.a.createElement(l.a.Fragment,null)))};var O=function(e){return e.trigger?l.a.createElement("div",{className:"form-div update-div"},e.children):""},j=a(98),w=a(100),x=a(71),y=a(97),k=a(38),N=a(70),C=a(26),D=Object(N.a)({apiKey:"AIzaSyDakBuesprwJu4AguOOXCjZ4TJoFHQ268A",authDomain:"crud-auth-and-fire.firebaseapp.com",projectId:"crud-auth-and-fire",storageBucket:"crud-auth-and-fire.appspot.com",messagingSenderId:"979843203476",appId:"1:979843203476:web:137eee01897e61bfab4f81",measurementId:"G-PC5DQZL55T"}),S=Object(k.c)(D),I=Object(C.f)(D),L=Object(n.createContext)(),U={name:"Guest",isGuestUser:!0};function F(e){var t=e.children,a=Object(n.useState)(U),r=Object(p.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)(function(){var e=Object(k.d)(S,function(){console.log("Viewing page as:",c.name,c)});return function(){e()}},[]),l.a.createElement(L.Provider,{value:{user:c,logOut:function(){return console.log("User logged out:",c.name),o(U),Object(k.f)(S)},googleSignIn:function(){console.log("Login initalized");var e=new k.b;return Object(k.e)(S,e).then(function(e){o({name:e.user.displayName.split(" ")[0],isGuestUser:!1});var t=e.user.photoURL;localStorage.setItem("profilePic",t),console.log("Loggining as:",e.user.displayName.split(" ")[0])})},facebookSignIn:function(){console.log("Login initalized");var e=new k.a;return Object(k.e)(S,e).then(function(e){o({name:e.user.displayName.split(" ")[0],isGuestUser:!1});var t=e.user.photoURL;localStorage.setItem("profilePic",t),console.log("Loggining as:",e.user.displayName.split(" ")[0])})}}},t)}function P(){return Object(n.useContext)(L)}var T=function(){var e=P(),t=e.user,a=e.logOut,n=Object(i.g)(),r=function(){var e=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:n("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{fixed:"top",bg:"dark",variant:"dark"},l.a.createElement(w.a,{className:"container-fluid"},l.a.createElement(j.a.Brand,null,l.a.createElement("img",{alt:"",src:"../../logo.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","\xa0\xa0R \xa0  U \xa0 D")),!1===t.isGuestUser&&l.a.createElement(w.a,null,l.a.createElement(x.a,{className:"profile-name border-left pl-2 ml-auto"},l.a.createElement(y.a,{title:t.name,id:"collasible-nav-dropdown"},l.a.createElement(y.a.Item,{onClick:r},"Logout"))),l.a.createElement(x.a,{className:"profile-pic border-left pl-2 ml-auto"},l.a.createElement("img",{src:localStorage.getItem("profilePic"),alt:"profile-pic"}))))))};var G=function(){var e=(new Date).getFullYear();return l.a.createElement("footer",null,l.a.createElement("h6",null,"Andras \u24d2 ",e))};var A=function(e){return l.a.createElement("div",{className:"note"},l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("h4",null,e.title))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("h5",null,e.content))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("p",null,"@",e.added))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,{variant:"outline-secondary",onClick:function(){e.onDelete(e.id)}},"DELETE")," ",l.a.createElement(b.a,{variant:"outline-secondary",onClick:function(){console.log("Note update has been initialized! ID:",e.id),e.onUpdate(e.id)}},"UPDATE")," ")),l.a.createElement(l.a.Fragment,null))};var z=function(e){var t=Object(n.useState)({title:"",content:""}),a=Object(p.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(p.a)(o,2),u=i[0],s=i[1];function m(e){var t=e.target,a=t.name,n=t.value;c(function(e){return Object(d.a)({},e,Object(E.a)({},a,n))})}return l.a.createElement("div",{className:"form-div"},l.a.createElement(g.a,{noValidate:!0,validated:u,onSubmit:function(t){!1===t.currentTarget.checkValidity()?(t.preventDefault(),t.stopPropagation(),s(!0)):(e.onAdd(r),c({title:"",content:""}),s(!1),t.preventDefault())}},l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("h3",null,"Add new notes"),l.a.createElement(g.a.Group,null,l.a.createElement(g.a.Label,{hidden:!0},"Title"),l.a.createElement(g.a.Control,{required:!0,type:"text",id:"inlineFormInputName",placeholder:"title",name:"title",value:r.title,onChange:m,maxLength:"15"}),l.a.createElement(g.a.Control.Feedback,{type:"invalid"},"Please add a title!")))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(g.a.Group,null,l.a.createElement(g.a.Label,{hidden:!0},"Content"),l.a.createElement(g.a.Control,{required:!0,as:"textarea",id:"inlineFormInputName",placeholder:"content",name:"content",value:r.content,onChange:m,rows:"3",maxLength:"50"}),l.a.createElement(g.a.Control.Feedback,{type:"invalid"},"Please add content!")))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,{variant:"outline-secondary",type:"submit"},"ADD")," ")),l.a.createElement(l.a.Fragment,null)))},B=a(96),V=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(p.a)(c,2),i=o[0],u=o[1],E=Object(n.useState)({}),g=Object(p.a)(E,2),b=g[0],j=g[1],w=Object(C.b)(I,"notes"),x=Object(C.i)(w,Object(C.h)("timestamp","desc")),y=new Date,k=y.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),N=y.toLocaleDateString(navigator.language,{year:"numeric",month:"2-digit",day:"2-digit"});Object(n.useEffect)(function(){return Object(C.g)(x,function(e){return r(e.docs.map(function(e){return Object(d.a)({},e.data(),{id:e.id})}))})},[]);var D=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Note has been created:",t,"at",k+" "+N),e.next=3,Object(C.a)(w,{title:t.title,content:t.content,added:k+" "+N,timestamp:Object(C.j)()});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(C.d)(I,"notes",a),l={title:t.title,content:t.content},e.next=4,Object(C.k)(n,l);case 4:u(!1),console.log("Note updated!");case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Note has been deleted! ID:",t),e.next=3,Object(C.c)(Object(C.d)(w,t));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.d)(I,"notes",t),e.next=3,Object(C.e)(a);case 3:(n=e.sent).exists()?(j({title:n.data().title,content:n.data().content,added:n.data().added,id:t}),console.log("Note`s data:",n.data()),u(!0)):console.log("Error: Note doesn`t exist!");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{style:{paddingBottom:"30px"}},l.a.createElement(T,null),l.a.createElement(B.a,null,l.a.createElement(f.a,{sm:12},l.a.createElement(z,{onAdd:D}),l.a.createElement(O,{trigger:i,setTrigger:u},l.a.createElement(h,{onUpdate:S,oldTitle:b.title,oldContent:b.content,added:b.added,id:b.id})))),l.a.createElement(B.a,{fluid:!0},l.a.createElement(f.a,null,a.map(function(e){return l.a.createElement(v.a,{xl:3,lg:4,sm:6},l.a.createElement(A,{key:e.id,id:e.id,title:e.title,content:e.content,added:e.added,onDelete:L,onUpdate:U}))}))),l.a.createElement(B.a,{className:"footer-container"},l.a.createElement(G,null)))},q=function(){var e=P(),t=e.googleSignIn,a=e.facebookSignIn,n=Object(i.g)(),r=function(){var e=Object(m.a)(s.a.mark(function e(a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,t();case 4:n("/home"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a();case 4:n("/home"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(T,null)),l.a.createElement("div",{className:"form-div"},l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("h3",null,"Please login:"))),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,{onClick:r,variant:"outline-secondary"},l.a.createElement("div",{className:"svg-sizing "},l.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fad","data-icon":"angle-double-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},l.a.createElement("g",{className:"fa-group"},l.a.createElement("path",{fill:"currentColor",d:"m488,261.8c0,141.5 -96.9,242.2 -240,242.2c-137.2,0 -248,-110.8 -248,-248s110.8,-248 248,-248c66.8,0 123,24.5 166.3,64.9l-67.5,64.9c-88.3,-85.2 -252.5,-21.2 -252.5,118.2c0,86.5 69.1,156.6 153.7,156.6c98.2,0 135,-70.4 140.8,-106.9l-140.8,0l0,-85.3l236.1,0c2.3,12.7 3.9,24.9 3.9,41.4z",className:"fa-primary"})))),"oogle")," "),l.a.createElement(v.a,null,l.a.createElement(b.a,{className:"facebook",onClick:c,variant:"outline-secondary"},l.a.createElement("div",{className:"svg-sizing "},l.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fad","data-icon":"angle-double-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},l.a.createElement("g",{className:"fa-group"},l.a.createElement("path",{fill:"currentColor",d:"m385.14,287l14.22,-92.66l-88.91,0l0,-60.13c0,-25.35 12.42,-50.06 52.24,-50.06l40.42,0l0,-78.89s-36.68,-6.26 -71.75,-6.26c-73.22,0 -121.08,44.38 -121.08,124.72l0,70.62l-81.39,0l0,92.66l81.39,0l0,224l100.17,0l0,-224l74.69,0z",className:"fa-primary"})))),"acebook")," ")),l.a.createElement(l.a.Fragment,null)))},J=function(e){var t=e.children,a=P().user;return console.log("Checking user to redirect protected content..",a),"Guest"===a.isGuestUser?l.a.createElement(i.a,{to:"/"}):t};var R=function(){return l.a.createElement(F,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/home",element:l.a.createElement(J,null,l.a.createElement(V,null))}),l.a.createElement(i.b,{path:"/",element:l.a.createElement(q,null)})))};a(88);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,null,l.a.createElement(R,null))),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.5a2b554b.chunk.js.map